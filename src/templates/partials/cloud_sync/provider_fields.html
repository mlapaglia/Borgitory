<!-- Dynamic Provider Fields -->
<div class="provider-fields-content">
{% if is_s3 %}
<!-- S3 Fields -->
<div id="s3-fields">
    <div>
        <label class="block text-sm font-medium text-gray-900 dark:text-gray-100">Bucket Name</label>
        <input type="text" name="provider_config.bucket_name" placeholder="my-backup-bucket" class="input-modern mt-1">
    </div>
    <div>
        <label class="block text-sm font-medium text-gray-900 dark:text-gray-100">AWS Access Key ID</label>
        <input type="text" name="provider_config.access_key" class="input-modern mt-1">
    </div>
    <div>
        <label class="block text-sm font-medium text-gray-900 dark:text-gray-100">AWS Secret Access Key</label>
        <input type="password" name="provider_config.secret_key" class="input-modern mt-1">
    </div>
    <div>
        <label class="block text-sm font-medium text-gray-900 dark:text-gray-100">Region (optional)</label>
        <input type="text" name="provider_config.region" value="us-east-1" placeholder="us-east-1" class="input-modern mt-1">
    </div>
    <div>
        <label class="block text-sm font-medium text-gray-900 dark:text-gray-100">Storage Class (optional)</label>
        <select name="provider_config.storage_class" class="select-modern mt-1">
            <option value="STANDARD">Standard</option>
            <option value="STANDARD_IA">Standard-IA</option>
            <option value="GLACIER">Glacier</option>
            <option value="DEEP_ARCHIVE">Deep Archive</option>
        </select>
    </div>
    <div>
        <label class="block text-sm font-medium text-gray-900 dark:text-gray-100">Path Prefix (optional)</label>
        <input type="text" name="path_prefix" placeholder="backups/borgitory" class="input-modern mt-1">
    </div>
</div>
{% elif is_sftp %}
<!-- SFTP Fields -->
<div id="sftp-fields">
    <div>
        <label class="block text-sm font-medium text-gray-900 dark:text-gray-100">Host</label>
        <input type="text" name="provider_config.host" placeholder="sftp.example.com" class="input-modern mt-1">
    </div>
    <div>
        <label class="block text-sm font-medium text-gray-900 dark:text-gray-100">Port</label>
        <input type="number" name="provider_config.port" value="22" placeholder="22" class="input-modern mt-1">
    </div>
    <div>
        <label class="block text-sm font-medium text-gray-900 dark:text-gray-100">Username</label>
        <input type="text" name="provider_config.username" placeholder="backup-user" class="input-modern mt-1">
    </div>
    <div>
        <label class="block text-sm font-medium text-gray-900 dark:text-gray-100">Remote Path</label>
        <input type="text" name="provider_config.remote_path" placeholder="/backups" class="input-modern mt-1">
    </div>
    <div>
        <label class="block text-sm font-medium text-gray-900 dark:text-gray-100">Password (optional if using private key)</label>
        <input type="password" name="provider_config.password" placeholder="Leave empty if using private key" class="input-modern mt-1">
    </div>
    <div>
        <label class="block text-sm font-medium text-gray-900 dark:text-gray-100">Private Key (optional if using password)</label>
        <textarea name="provider_config.private_key" placeholder="-----BEGIN OPENSSH PRIVATE KEY-----&#10;...&#10;-----END OPENSSH PRIVATE KEY-----" rows="6" class="input-modern mt-1"></textarea>
    </div>
    <div>
        <label class="block text-sm font-medium text-gray-900 dark:text-gray-100">Host Key Checking</label>
        <select name="provider_config.host_key_checking" class="select-modern mt-1">
            <option value="true">Enabled (Recommended)</option>
            <option value="false">Disabled</option>
        </select>
    </div>
    <div>
        <label class="block text-sm font-medium text-gray-900 dark:text-gray-100">Path Prefix (optional)</label>
        <input type="text" name="path_prefix" placeholder="backups/borgitory" class="input-modern mt-1">
    </div>
</div>
{% endif %}

{% if show_submit %}
<div class="flex space-x-2 mt-4">
    <button type="submit" id="submit-button" class="flex-1 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700">
        {{ submit_text }}
    </button>
</div>
{% endif %}
</div>