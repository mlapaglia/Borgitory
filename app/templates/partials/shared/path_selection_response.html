<!-- Update input value using out-of-band swap -->
<input type="text" 
       id="{{ target_input }}"
       name="{% if 'source-path' in target_input %}source_path{% else %}path{% endif %}"
       value="{{ path }}"
       placeholder="Enter path starting with /mnt/..."
       class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white input-modern"
       hx-get="/api/repositories/directories/autocomplete"
       hx-trigger="input changed delay:300ms, focus"
       hx-target="#{{ target_input }}-dropdown"
       hx-include="this"
       hx-headers='{"hx-target-input": "{{ target_input }}"}'
       autocomplete="off"
       hx-swap-oob="true" />

{% if should_search %}
<!-- Trigger new search for continued navigation -->
<div hx-get="/api/repositories/directories/autocomplete"
     hx-target="#{{ target_input }}-dropdown"
     hx-include="#{{ target_input }}"
     hx-headers='{"hx-target-input": "{{ target_input }}"}'
     hx-trigger="load delay:100ms">
</div>
{% endif %}
