services:
  borgitory:
    build: .
    cap_add:
      - SYS_ADMIN
    devices:
      - /dev/fuse:/dev/fuse:rwm
    ports:
      - "8000:8000"   # HTTP port
    volumes:
      # Persistent data storage
      - ./local-data:/app/data
      # Borg cache storage
      - ./local-cache:/mnt/cache:rw
      # Mount your backup sources (adjust as needed)
      - ./backup-sources:/mnt/backup-sources:ro
      # Borg repository storage (where backups are stored)
      - ./borg-repos:/mnt/my-repos:rw
